# نظام إدارة البقالة (PWA) - المرحلة الأولى

هذا هو الهيكل الأساسي لتطبيق إدارة بقالة يعمل كتطبيق ويب تقدمي (PWA) دون اتصال بالإنترنت.

## كيفية التشغيل على Termux

1.  **السماح بالوصول للمساحة التخزينية**:
    ```bash
    termux-setup-storage
    ```

2.  **تثبيت الأدوات المطلوبة**:
    ```bash
    pkg update && pkg upgrade
    pkg install nodejs python
    ```

3.  **الانتقال لمجلد المشروع**:
    ```bash
    # تأكد من أنك في المجلد الصحيح الذي يحتوي على index.html
    cd /path/to/your/project/folder
    ```

4.  **تشغيل خادم الويب (اختر خيارًا واحدًا)**:

    *   **الخيار 1: باستخدام Python (بسيط)**
        ```bash
        python -m http.server 8000
        ```

    *   **الخيار 2: باستخدام `http-server` (أفضل)**
        ```bash
        # تثبيت http-server مرة واحدة فقط
        npm install -g http-server

        # تشغيل الخادم
        http-server -p 8000
        ```

5.  **فتح التطبيق**:
    *   افتح متصفح Chrome على جهازك وانتقل إلى: `http://localhost:8000`

## كيفية التحقق من صحة العمل

1.  **التحقق من عمل قاعدة البيانات**:
    *   بعد فتح الصفحة، اضغط على زر **"تحميل بيانات عيّنة"**.
    *   راقب سجل الحالة في الأسفل. يجب أن تظهر رسائل تشير إلى فتح قاعدة البيانات وتحميل البيانات بنجاح.
    *   يمكنك أيضًا فتح أدوات المطور في Chrome (`DevTools > Application > IndexedDB`) للتحقق من إنشاء قاعدة البيانات (`baqalaDB_v2`) والمخازن (`products`, `customers`, etc.).

2.  **التحقق من العمل دون اتصال (Offline)**:
    *   بعد تحميل الصفحة والبيانات مرة واحدة، قم بإيقاف خادم الويب في Termux (بالضغط على `Ctrl+C`).
    *   قم بتعطيل Wi-Fi و بيانات الجوال على جهازك.
    *   أعد تحميل الصفحة في المتصفح (`http://localhost:8000`).
    *   **النتيجة المتوقعة**: يجب أن يتم تحميل الصفحة بنجاح من ذاكرة التخزين المؤقت (Cache) الخاصة بـ Service Worker.
