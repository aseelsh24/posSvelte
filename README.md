# نظام إدارة البقالة - Baqala Management System

هذا المشروع هو تطبيق ويب لإدارة بقالة يعمل بدون اتصال بالإنترنت (Offline-First) ومصمم للعمل على الأجهزة اللوحية التي تعمل بنظام Android عبر Termux، وكذلك في أي متصفح حديث يدعم Service Workers و IndexedDB.

## الميزات (المرحلة الأولى)

-   **هيكل PWA أساسي**: التطبيق قابل للتثبيت ويعمل دون اتصال بالإنترنت.
-   **قاعدة بيانات محلية**: يستخدم IndexedDB لتخزين البيانات محليًا على الجهاز.
-   **بيانات نموذجية**: يتم تحميل التطبيق ببيانات أولية للمنتجات والعملاء والموردين عند التشغيل الأول.
-   **واجهة عربية**: واجهة مستخدم بسيطة تدعم اللغة العربية والتخطيط من اليمين إلى اليسار (RTL).

## كيفية التشغيل والاختبار على Termux

لتشغيل هذا التطبيق على جهاز Android باستخدام Termux، اتبع الخطوات التالية:

1.  **تثبيت Termux**: قم بتنزيل وتثبيت تطبيق [Termux](https://f-droid.org/en/packages/com.termux/) من F-Droid.

2.  **تثبيت Python**: افتح Termux وقم بتثبيت Python. ستحتاجه لتشغيل خادم ويب بسيط.
    ```bash
    pkg update && pkg upgrade
    pkg install python
    ```

3.  **نقل ملفات المشروع**: انقل هذا المجلد (المحتوي على `index.html` والملفات الأخرى) إلى مساحة تخزين Termux. يمكنك استخدام مدير الملفات للوصول إلى `/data/data/com.termux/files/home`.

4.  **الانتقال إلى مجلد المشروع**: في Termux، انتقل إلى المجلد الذي يحتوي على ملفات المشروع.
    ```bash
    cd /path/to/your/project/folder
    ```

5.  **تشغيل خادم الويب**: ابدأ خادم ويب بسيط باستخدام Python.
    ```bash
    python -m http.server 8080
    ```
    سيقوم هذا الأمر بتشغيل خادم على المنفذ `8080`.

6.  **الوصول إلى التطبيق**: افتح متصفح الويب (مثل Chrome) على جهاز Android الخاص بك وانتقل إلى العنوان التالي:
    `http://localhost:8080`

## معايير القبول (المرحلة الأولى)

للتحقق من أن التطبيق يعمل بشكل صحيح:

1.  **يجب أن يتم تحميل الصفحة الرئيسية**: عند فتح `http://localhost:8080`، يجب أن ترى الواجهة الرئيسية للتطبيق مع رسالة "التطبيق جاهز".
2.  **لا توجد أخطاء في وحدة التحكم**: افتح أدوات المطور في متصفحك (يمكن القيام بذلك في Chrome على Android عبر التصحيح عن بعد) وتحقق من عدم وجود أخطاء حمراء في علامة التبويب "Console".
3.  **تسجيل عامل الخدمة (Service Worker)**: يجب أن ترى رسالة في وحدة التحكم تفيد بأنه تم تسجيل عامل الخدمة بنجاح.
4.  **إنشاء قاعدة البيانات**: يجب أن ترى رسائل في وحدة التحكم تشير إلى أن قاعدة البيانات قد تم فتحها بنجاح.
5.  **تحميل البيانات النموذجية (في التشغيل الأول)**:
    -   في المرة الأولى التي تقوم فيها بتحميل التطبيق، يجب أن ترى رسالة في وحدة التحكم تفيد بأنه "يتم ملء قاعدة البيانات بالبيانات النموذجية".
    -   عند إعادة تحميل الصفحة، يجب أن ترى رسالة "قاعدة البيانات تحتوي بالفعل على بيانات".
6.  **العمل دون اتصال بالإنترنت**: بعد التحميل الأول، قم بإيقاف تشغيل الخادم في Termux (بالضغط على `Ctrl+C`) وأوقف اتصال Wi-Fi/بيانات الجوال. عند إعادة تحميل الصفحة في المتصفح، يجب أن يستمر تحميل التطبيق من ذاكرة التخزين المؤقت.
